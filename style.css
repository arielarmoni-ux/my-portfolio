<script src="sidebar.js"></script>
<script>
    async function initProject() {
        const params = new URLSearchParams(window.location.search), currentFolder = params.get('folder');
        if(!currentFolder) return;
        
        try {
            // ... (הקוד של הניווט והמטא נשאר אותו דבר)

            const gal = document.getElementById('gallery');
            
            // אנחנו מייצרים לולאה שטוענת את התמונות ושומרת על הסדר
            for(let i=1; i<=30; i++) {
                const img = new Image();
                img.src = `${baseURL}/images/${currentFolder}/${i}.jpg`;
                
                img.onload = () => {
                    img.classList.add('loaded');
                    // מוודא שהתמונה נכנסת בדיוק למקומה המספרי
                    img.style.order = i; 
                    gal.appendChild(img);
                };

                // אם התמונה לא קיימת, הלולאה פשוט תמשיך
                img.onerror = () => { img.style.display = 'none'; };
            }
        } catch(e) {}
    }
    initProject();
</script>
