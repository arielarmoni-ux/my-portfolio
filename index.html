<script>
    // רשימת התיקיות כפי שהן מופיעות ב-GitHub (שים לב לאותיות גדולות/קטנות)
    const projectFolders = [
        "Wonders-of-the-Deep", 
        "The-Shadow-of-Color", 
        "We-The-People",
        "A-Treasury-of-Words"
        // הוסף כאן את שאר שמות התיקיות
    ];

    const grid = document.getElementById('portfolio-grid');
    const sideList = document.getElementById('side-project-list');

    async function loadContent() {
        for (const f of projectFolders) {
            try {
                const res = await fetch(`images/${f}/info.txt`);
                if (!res.ok) throw new Error();
                const text = await res.text();
                const lines = text.split('\n').filter(l => l.trim() !== "");
                const projectTitle = lines[0].trim(); // שורה ראשונה היא תמיד הכותרת

                const linkUrl = `project.html?folder=${f}`;
                
                // הוספה לתפריט הצד
                sideList.innerHTML += `<a href="${linkUrl}">${projectTitle}</a>`;
                
                // הוספה לגריד הראשי
                if (grid) {
                    grid.innerHTML += `
                        <a href="${linkUrl}" class="project-link">
                            <div class="project-card">
                                <img src="images/${f}/cover.jpg" alt="${projectTitle}">
                                <div class="project-overlay">
                                    <div class="project-title">${projectTitle}</div>
                                </div>
                            </div>
                        </a>`;
                }
            } catch (e) { 
                console.error("Could not load info.txt for folder:", f);
            }
        }
    }
    loadContent();
</script>
